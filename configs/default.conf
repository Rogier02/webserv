# Default HTTP Server Configuration

Server {

    # Basic server settings
    server_name defaultServer;
    listen 128.0.0.1:8080;
    client_max_body_size 10m;
    root /server_files;

    # Error pages
    error_page 401 /defaultPages/401.html;
    error_page 403 /defaultPages/403.html;
    error_page 500 /defaultPages/500.html;

    # Static file serving
    location / {
        root /server_files/www;
        index_files /defaultPages/index.html;
        allowed_methods GET POST;
        autoindex off;
    }

    # Images directory with autoindex enabled
    location /images {
        root /server_files/images;
        allowed_methods GET;
        autoindex on;
    }

    # Location that supports uploads
    location /upload {
        root /server_files/uploads;
        allowed_methods POST;
        upload_dir /server_files/uploads;
        client_max_body_size 50m;
    }

    # CGI example (for PHP)
    location /php {
        root /server_files/cgi-bin;
        allowed_methods GET POST;
        cgi_path /usr/bin/php-cgi;
        cgi_ext .py;
    }

    # Redirect old paths
    location /oldsite {
        return 301 /;
    }
}
